#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🔍 Running pre-commit checks (same as CI)..."

# 1. TypeScript type check
echo "📝 Type checking..."
npm run type-check || {
  echo "❌ TypeScript type check failed"
  exit 1
}

# 2. ESLint check (strict mode - no auto-fix, same as CI)
echo "🔧 Linting..."
npm run lint || {
  echo "❌ ESLint check failed"
  echo "💡 Run 'npm run lint:fix' to auto-fix errors, or fix manually"
  exit 1
}

# 3. Prettier format check (strict mode - no auto-fix, same as CI)
echo "💅 Formatting check..."
npm run format:check || {
  echo "❌ Prettier format check failed"
  echo "💡 Run 'npm run format' to auto-fix formatting"
  exit 1
}

echo "✅ All checks passed! Ready for commit."